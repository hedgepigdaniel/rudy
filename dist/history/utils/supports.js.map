{"version":3,"sources":["../../../src/history/utils/supports.js"],"names":["_hasHistory","supportsHistory","undefined","window","ua","navigator","userAgent","indexOf","history","_hasSession","supportsSession","sessionStorage","setItem","getItem","error","supportsDom","document","createElement"],"mappings":";;;;;;;AACA;AACA,IAAIA,WAAJ;;AAEO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAID,WAAW,KAAKE,SAApB,EAA+B,OAAOF,WAAP;AAC/B,MAAI,OAAOG,MAAP,KAAkB,WAAtB,EAAmC,OAAO,KAAP;AAEnC,MAAMC,EAAE,GAAGD,MAAM,CAACE,SAAP,CAAiBC,SAA5B;;AAEA,MACE,CAACF,EAAE,CAACG,OAAH,CAAW,YAAX,MAA6B,CAAC,CAA9B,IAAmCH,EAAE,CAACG,OAAH,CAAW,aAAX,MAA8B,CAAC,CAAnE,KACAH,EAAE,CAACG,OAAH,CAAW,eAAX,MAAgC,CAAC,CADjC,IAEAH,EAAE,CAACG,OAAH,CAAW,QAAX,MAAyB,CAAC,CAF1B,IAGAH,EAAE,CAACG,OAAH,CAAW,eAAX,MAAgC,CAAC,CAJnC,EAKE;AACA,WAAQP,WAAW,GAAG,KAAtB;AACD;;AAED,SAAQA,WAAW,GAAGG,MAAM,CAACK,OAAP,IAAkB,eAAeL,MAAM,CAACK,OAA9D;AACD,CAhBM;;;;AAkBP,IAAIC,WAAJ;;AAEO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAID,WAAW,KAAKP,SAApB,EAA+B,OAAOO,WAAP;AAC/B,MAAI,OAAON,MAAP,KAAkB,WAAtB,EAAmC,OAAQM,WAAW,GAAG,KAAtB;;AAEnC,MAAI;AACFN,IAAAA,MAAM,CAACQ,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,EAA4C,KAA5C;AACA,WAAQH,WAAW,GAAGN,MAAM,CAACQ,cAAP,CAAsBE,OAAtB,CAA8B,YAA9B,MAAgD,KAAtE;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,WAAQL,WAAW,GAAG,KAAtB;AACD;AACF,CAVM;;;;AAYA,IAAMM,WAAW,GAAG,SAAdA,WAAc;AAAA,SACzB,CAAC,EACC,OAAOZ,MAAP,KAAkB,WAAlB,IACAA,MAAM,CAACa,QADP,IAEAb,MAAM,CAACa,QAAP,CAAgBC,aAHjB,CADwB;AAAA,CAApB","sourcesContent":["// @flow\n/* global window */\nlet _hasHistory\n\nexport const supportsHistory = () => {\n  if (_hasHistory !== undefined) return _hasHistory\n  if (typeof window === 'undefined') return false\n\n  const ua = window.navigator.userAgent\n\n  if (\n    (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n    ua.indexOf('Mobile Safari') !== -1 &&\n    ua.indexOf('Chrome') === -1 &&\n    ua.indexOf('Windows Phone') === -1\n  ) {\n    return (_hasHistory = false)\n  }\n\n  return (_hasHistory = window.history && 'pushState' in window.history)\n}\n\nlet _hasSession\n\nexport const supportsSession = () => {\n  if (_hasSession !== undefined) return _hasSession\n  if (typeof window === 'undefined') return (_hasSession = false)\n\n  try {\n    window.sessionStorage.setItem('hasStorage', 'yes')\n    return (_hasSession = window.sessionStorage.getItem('hasStorage') === 'yes')\n  } catch (error) {\n    return (_hasSession = false)\n  }\n}\n\nexport const supportsDom = () =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  )\n"],"file":"supports.js"}