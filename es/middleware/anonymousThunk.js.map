{"version":3,"sources":["../../src/middleware/anonymousThunk.js"],"names":["options","shouldTransition","action","api","req","next","thunk","thunkResult","Promise","resolve","then","_dispatched","dispatch"],"mappings":"AAAA,gBAAe,gBAAiB;AAAA,MAAdA,OAAc,QAAdA,OAAc;AAC9B,MAAMC,gBAAgB,GAAGD,OAAO,CAACC,gBAAjC;;AAEAD,EAAAA,OAAO,CAACC,gBAAR,GAA2B,UAACC,MAAD,EAASC,GAAT,EAAiB;AAC1C,QAAI,OAAOD,MAAP,KAAkB,UAAtB,EAAkC,OAAO,IAAP;AAClC,WAAOD,gBAAgB,CAACC,MAAD,EAASC,GAAT,CAAvB;AACD,GAHD;;AAKA,SAAO,UAACC,GAAD,EAAMC,IAAN,EAAe;AACpB,QAAI,OAAOD,GAAG,CAACF,MAAX,KAAsB,UAA1B,EAAsC,OAAOG,IAAI,EAAX;AAEtC,QAAMC,KAAK,GAAGF,GAAG,CAACF,MAAlB;AACA,QAAMK,WAAW,GAAGC,OAAO,CAACC,OAAR,CAAgBH,KAAK,CAACF,GAAD,CAArB,CAApB;AAEA,WAAOG,WAAW,CAACG,IAAZ,CAAiB,UAACR,MAAD;AAAA,aACtBA,MAAM,IAAI,CAACA,MAAM,CAACS,WAAlB,GAAgCP,GAAG,CAACQ,QAAJ,CAAaV,MAAb,CAAhC,GAAuDA,MADjC;AAAA,KAAjB,CAAP;AAGD,GATD;AAUD,CAlBD","sourcesContent":["export default ({ options }) => {\n  const shouldTransition = options.shouldTransition\n\n  options.shouldTransition = (action, api) => {\n    if (typeof action === 'function') return true\n    return shouldTransition(action, api)\n  }\n\n  return (req, next) => {\n    if (typeof req.action !== 'function') return next()\n\n    const thunk = req.action\n    const thunkResult = Promise.resolve(thunk(req))\n\n    return thunkResult.then((action) =>\n      action && !action._dispatched ? req.dispatch(action) : action,\n    )\n  }\n}\n"],"file":"anonymousThunk.js"}