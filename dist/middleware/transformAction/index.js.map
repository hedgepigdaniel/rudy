{"version":3,"sources":["../../../src/middleware/transformAction/index.js"],"names":["req","next","route","path","action","isDoubleDispatch","handleDoubleDispatch","type","params","query","state","hash","basename","location","Object","assign","then"],"mappings":";;;;;;;AAAA;;eAEe;AAAA,SAAM,UAACA,GAAD,EAAMC,IAAN,EAAe;AAClC,QAAI,CAACD,GAAG,CAACE,KAAJ,CAAUC,IAAf,EAAqB,OAAOF,IAAI,EAAX;AAErBD,IAAAA,GAAG,CAACI,MAAJ,GAAa,yBAAaJ,GAAb,CAAb;AAEA,QAAIA,GAAG,CAACK,gBAAJ,EAAJ,EAA4B,OAAOL,GAAG,CAACM,oBAAJ,EAAP,CALM,CAK4B;;AAL5B,sBAO+BN,GAAG,CAACI,MAPnC;AAAA,QAO1BG,IAP0B,eAO1BA,IAP0B;AAAA,QAOpBC,MAPoB,eAOpBA,MAPoB;AAAA,QAOZC,KAPY,eAOZA,KAPY;AAAA,QAOLC,KAPK,eAOLA,KAPK;AAAA,QAOEC,IAPF,eAOEA,IAPF;AAAA,QAOQC,QAPR,eAOQA,QAPR;AAAA,QAOkBC,QAPlB,eAOkBA,QAPlB;AAQlCC,IAAAA,MAAM,CAACC,MAAP,CAAcf,GAAd,EAAmB;AAAEO,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,MAAM,EAANA,MAAR;AAAgBC,MAAAA,KAAK,EAALA,KAAhB;AAAuBC,MAAAA,KAAK,EAALA,KAAvB;AAA8BC,MAAAA,IAAI,EAAJA,IAA9B;AAAoCC,MAAAA,QAAQ,EAARA,QAApC;AAA8CC,MAAAA,QAAQ,EAARA;AAA9C,KAAnB,EARkC,CAQ2C;;AAE7E,WAAOZ,IAAI,GAAGe,IAAP,CAAY;AAAA,aAAMhB,GAAG,CAACI,MAAV;AAAA,KAAZ,CAAP;AACD,GAXc;AAAA,C","sourcesContent":["import { formatAction } from './utils'\n\nexport default () => (req, next) => {\n  if (!req.route.path) return next()\n\n  req.action = formatAction(req)\n\n  if (req.isDoubleDispatch()) return req.handleDoubleDispatch() // don't dispatch the same action twice\n\n  const { type, params, query, state, hash, basename, location } = req.action\n  Object.assign(req, { type, params, query, state, hash, basename, location }) // assign to `req` for conevenience (less destructuring in callbacks)\n\n  return next().then(() => req.action)\n}\n"],"file":"index.js"}